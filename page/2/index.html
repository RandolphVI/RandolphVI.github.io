<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="baidu-site-verification" content="IYvqjZ3csg" />
<meta name="google-site-verification" content="o9GDuh4E6CmwFpEqUYW7VMmq_fysc1_3PpSQSNWSD8Y" />


  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-mac-osx.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Randolph, 黄威" />





  <link rel="alternate" href="/atom.xml" title="黃某人" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="世之落拓無成者 皆自謂不癡者也">
<meta name="keywords" content="Randolph, Python, Machine Learning, Tensorflow, AI, Computer Vision, NLP, Web Scraping">
<meta property="og:type" content="website">
<meta property="og:title" content="黃某人">
<meta property="og:url" content="http://randolph.pro/page/2/index.html">
<meta property="og:site_name" content="黃某人">
<meta property="og:description" content="世之落拓無成者 皆自謂不癡者也">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="黃某人">
<meta name="twitter:description" content="世之落拓無成者 皆自謂不癡者也">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"hide","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: 'KGO9YVRPZZ',
      apiKey: 'dcf60767769bda7791ae195caf3dfb10',
      indexName: 'Randolph',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://randolph.pro/page/2/"/>





  <title>黃某人</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?80985281ddae6899cfd57ad9d458b284";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->










</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">黃某人</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">痴</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://randolph.pro/2017/10/09/借助深度学习增强基于分子对接的虚拟筛选/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Randolph">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃某人">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/09/借助深度学习增强基于分子对接的虚拟筛选/" itemprop="url">Untitled</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-plus-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-10-09T10:23:37+08:00">
                2017-10-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/09/借助深度学习增强基于分子对接的虚拟筛选/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/09/借助深度学习增强基于分子对接的虚拟筛选/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/10/09/借助深度学习增强基于分子对接的虚拟筛选/" class="leancloud_visitors" data-flag-title="">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-fire"></i>
               </span>
               <span class="leancloud-visitors-count"></span>
               <span>℃</span>
               <span class="post-meta-divider">|</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                <span title="Words count in article">
                  5,673
                </span>
                <span> words </span>
                
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                <span title="Reading time">
                  20
                </span>
                <span> mins </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="借助深度学习增强基于分子对接的虚拟筛选"><a href="# 借助深度学习增强基于分子对接的虚拟筛选" class="headerlink" title="借助深度学习增强基于分子对接的虚拟筛选"></a>借助深度学习增强基于分子对接的虚拟筛选 </h1><h5 id="SA17011119- 黄威 - 译"><a href="#SA17011119- 黄威 - 译" class="headerlink" title="SA17011119 黄威 译"></a>SA17011119 黄威 译</h5><h2 id="摘要"><a href="# 摘要" class="headerlink" title="摘要"></a> 摘要 </h2><p> 虚拟筛选是一种针对已知药理靶标的潜在活性化合物的特性给出预定义标准，从而对分子的虚拟组成进行过滤或预过滤的方法，通常有基于配体和基于结构两种虚拟筛选方法。</p>
<p>基于对接的虚拟筛选方法（DBVS）是后者广泛应用的其中一种形式，通过将化合物库中的每种化合物插入到已知 3D 结构的靶受体的特定区域中来选择更高活性的配体。评价插入质量的打分函数性能不高是对接方法的核心障碍。</p>
<p>本文提出了一种基于深度卷积神经网络的方法（DeepVS）来改善 DBVS。</p>
<p>引入的深度神经网络 DeepVS 使用分子对接程序的输出，并学习如何从基本数据中提取相关特征，例如从蛋白质 - 配体复合物获得的原子和残基类型。我们的方法引入了原子和氨基酸嵌入的使用，并通过将化合物建模为一组原子上下文，并通过卷积层进一步处理来实现创建蛋白质 - 配体复合物分布向量表示的有效方法。</p>
<p>所提出的方法的主要优点之一是它不需要特征工程。我们使用两个对接程序的输出：AutodockVina1.1.2 和 Dock6.6 来评估 DeepVS 的 DUD。 DeepVS 通过严格的评估和一次性交叉验证，在 AUC ROC 和浓缩因子方面皆优于直接使用分子对接程序。此外，使用 A utodockVina1.1.2 的输出，DeepVS 达到 0.81 的 AUC ROC，据我们所知，这是迄今为止的使用来自 DUD 的 40 个受体进行虚拟筛选得到的最好 AUC。</p>
<p><img src="https://farm5.staticflickr.com/4644/25473380488_3cbcb88b82_o.jpg" alt=""></p>
<h2 id="导语"><a href="# 导语" class="headerlink" title="导语"></a>导语 </h2><p> 药物发现过程是一项费时费钱的任务。已知化合物的开发乃至重新定位是一件困难的事情。如果我们对每个发展阶段能够的合成数千或数百万个分子都加以考虑，情况会变得更糟。 </p>
<p>过去，高通量筛选（HTS）等实验方法可以通过筛选针对生物学目标的大型化学库来帮助做出这一决定。然而，整个过程高成本且成功率较低使学术界主流无法认可这种方法。</p>
<p>为了克服这些困难，低成本的计算方法被大力推广，并逐渐成为一种辅助开发新药的方式。 </p>
<p>计算虚拟筛选基本上是一种由分子的虚拟选择组成的过滤器（或预过滤器），它是基于潜在活性化合物与确定的药理靶标的特定标准。 </p>
<p>这种方法又分为两种变体：基于配体的虚拟筛选和基于结构的虚拟筛选。第一中方法通过对活性配体的相似性和物理化学分析，来预测具有相似特征的其他化合物的活性。第二种方法是基于目标受体的三维结构已经通过实验或计算模型被掌握，用于探索活性配体与结合位点残基之间的可能的分子相互作用。与仅基于配体结构的方法相比，基于结构的方法具有更好的性能。</p>
<p>分子对接是广泛用于研究这些相互作用的计算方法之一，基于对接的虚拟筛选（DBVS）通常是通过将化合物库中的每种化合物插入到已知的具有特定的 3D 结构的目标受体的特定区域中，来进行有效的配体的选择。</p>
<p>在这个过程的第一阶段，进行启发式搜索，其中有数以千计的位置选择。第二阶段，通过一些数学函数（计分函数）来描述插入的质量，这些函数提供了化合物和目标之间能量互补性的信息。最后一个阶段是计算科学的挑战，考虑到恢复活性位点内化合物的适当结合模式比评估低能量分数到确定的姿势更容易。这个问题成为了分子对接方法的核心问题。</p>
<p>而基于机器学习的方法已经成功地用于改善基于 Docking 的虚拟筛选的结果，从而提高了评分函数的性能，并构建了结合亲和性分类器。使用 ML 的主要优点之一是能够解释配体与受体之间分子相互作用的非线性依赖关系，传统的机器学习策略取决于数据的呈现方式。例如，在虚拟筛选方法中，科学家通常会分析对接输出来生成或提取人类工程特征。虽然这个过程在一定程度上是有效的，但是人工识别特征是一个复杂的过程，不能大规模应用，且其会导致相关信息的丢失，从而导致一组特征不能解释问题的实际复杂性。</p>
<p>另一方面，最近基于深度学习的方法已经在来自多个领域的不同任务中取得了巨大的成功。 DL 方法通常直接从原始数据中学习特征（表示），只需要很少的人工干预或者不需要人工干预，这使得系统更容易适应新的数据集。</p>
<p>在过去的几年中，DL 被学术界和大型制药企业视为帮助发现新药的可行方案。 DL 第一项成功案例就是解决了 2012 年由默克公司（Merck）于 2012 年提出的有关 QSAR（量子结构 - 活性关系）的问题。几年后，Dahl 等人开发了一个多任务深度神经网络从其分子结构直接预测化合物的生物学和化学特性。最近，多任务深度神经网络被用来预测活性位点定向药效和毒性。同样在 2015 年，Ramsundar 等使用与指纹相关的 Massively Multitask 神经网络预测药物活性。 DL 在最近的工作中也被用来发现新药物和确定其特征，如水溶性预测和指纹。 </p>
<p>在这项工作中，我们提出了一个基于深度卷积神经网络的方法来改善 DBVS。该方法使用分子对接程序的结果作为输入到深度神经网络 DeepVS。随后，网络自动学习基本数据的特征，如复合原子类型，原子部分电荷，和原子之间的距离提取相关的特征。 DeepVS 还学习了适合区分蛋白质 - 化合物复合物中的活性配体和诱饵的抽象特征。据我们所知，这项工作是第一次使用深度学习来改善 DBVS。最近有关改进 DBVS 的工作只使用了传统的浅层神经网络和人工定义的特征。我们评估 DeepVS 的 DUD，其中包含 40 个不同的受体。在我们的实验中，我们使用了两个分子对接程序的输出：AutodockVina1.1.2 和 Dock6.6。 DeepVS 在 AUC ROC 和浓缩因子方面都优于直接使用分子对接程序。而且，与之前在文献中出现的其他系统的结果相比，DeepVS 达到了最新最优的 0.81 的 AUC 指标。</p>
<p>这项工作的主要贡献是：（1）提出了一种新的基于深度学习的方法，提高了 DBVS 的性能; （2）引入原子和氨基酸嵌入的概念，也可用于计算生物学的其他方面; （3）提出一种有效的方法，用来创建蛋白质 - 化合物复合物的分布矢量表示，将化合物建模为一组原子环境，并由一个卷积层进一步处理。</p>
<h2 id="实验准备与方法介绍"><a href="# 实验准备与方法介绍" class="headerlink" title="实验准备与方法介绍"></a>实验准备与方法介绍</h2><h3 id="DeepVS"><a href="#DeepVS" class="headerlink" title="DeepVS"></a>DeepVS</h3><p>DeepVS 以描述蛋白质 - 化合物复合物（输入层）结构的数据为输入，并产生能够从诱饵中区分配体的分数。图 1 详细描述了 DeepVS 架构。首先，给定一个输入蛋白质复合物 $x$，从每个复合原子（第一个隐藏层）的本地上下文中提取信息。原子的环境包含基本结构数据（基本特征），涉及距离，邻近原子类型，原子部分电荷和相关残基。接下来，每个原子上下文的每个基本特征都被转换为网络学习的特征向量。那么，卷积层被用来总结来自所有原子的所有上下文的信息，并且生成蛋白质 - 化合物复合物 $r$（第二隐藏层）的分布向量表示。最后，在最后一层（输出层），将复合表示作为 softmax 分类器的输入，负责产生分数。在算法 1 中，我们给出了 DeepVS 执行前馈过程步骤的高级伪代码。</p>
<h3 id="原子上下文"><a href="# 原子上下文" class="headerlink" title="原子上下文"></a>原子上下文 </h3><p> 首先，需要对蛋白质复合物进行一些基本的处理，以提取 DeepVS 的输入数据。输入层使用化合物中每个原子上下文的信息。原子 $a$ 的上下文由从其邻域提取的一组基本特征定义。其中包括化合物中最接近 $a$（包括自身）的 $k_c$ 原子和蛋白质中最靠近 $a$ 的 $k_p$ 原子，其中 $k_c$ 和 $k_p$ 是必须由用户定义的超参数。在先前的工作中，基于结构的药物设计方面的工作已经成功地应用了使用化合物和蛋白质的最近邻原子的信息的方法。</p>
<p>从原子上下文中提取的基本特征包括原子类型，原子部分电荷，氨基酸类型以及从邻居到参考原子的距离。例如，对于 THM 化合物中的氮原子（$N_3$）来说，$k_c = 3$ 和 $k_p = 2$ 的邻域分别由化合物中的 $N_3$，$H$ ，$C$ 以及蛋白质胸苷激酶中的两个原子 $OE$ 和 $CD$ 组成 。在这种特殊情况下，原子 $N_3$ 的上下文包含每个基本特征的以下值：</p>
<ul>
<li><p>Atom Type = $[N;H;C;OE;CD]$</p>
</li>
<li><p>Charge = $[-0.24;0.16;0.31;-0.61;0.69]$</p>
</li>
<li><p>Distance = $[0.00;1.00;1.34;3.06;3.90]$</p>
</li>
<li><p>Amino Acid Type = $[Gln; Gln]$</p>
</li>
</ul>
<p><img src="https://farm5.staticflickr.com/4588/38634631664_aacc4146a7_o.jpg" alt=""></p>
<h3 id="原子上下文表示"><a href="# 原子上下文表示" class="headerlink" title="原子上下文表示"></a>原子上下文表示</h3><p>DeepVS 中的第一个隐藏层通过查找表操作将原子上下文的每个基本特征值转换为实值向量（Embeddings）。神经网络能够自动学习这些 Embeddings 。对于每种类型的基本特征，都有一个对应的 Embedding 矩阵 $W$，矩阵中每一列都代表了其中每一个原子从上下文提取得到的信息。矩阵 $W^{atm}$，$W^{dist}$，$W^{chrg}$ 和 $W^{amino}$ 包含了原子类型，距离，原子部分电荷和氨基酸等基本特征的 Embedding 。这些矩阵构成了第一个隐含层的权矩阵，并在训练网络之前用随机数初始化。</p>
<p><img src="https://farm5.staticflickr.com/4639/38464871255_276857abcc_o.jpg" alt=""></p>
<p>$W^{atm} \in \mathbb{R}^{d^{atm} \times |A|}$ 中的每一列对应于特定类型的原子的特征向量，其中 $A$ 是原子类型的集合，$d^{atm}$ 是嵌入的维度，是由用户定义的超参数。给定原子 $a$ 的上下文，网络将其基本特征原子类型的每个值转换成其各自的特征向量，然后连接这些向量以生成向量原子类型表示 $z<em>{atm}$。如图 3 所示，从 $W^{atm}$ 中检索原子类型的嵌入包括一个简单的查找表操作。因此，$W^{atm}$ 中的原子类型嵌入（列）的顺序是任意的，对结果没有影响。然而，原子类型的嵌入顺序对于形成 $z</em>{atm}$ 是有影响的。我们总是先连接配体中最近到最远的原子类型，然后我们再连接蛋白质中最近到最远的原子类型。</p>
<p>同样，$z<em>{dist}$，$z</em>{chrg}$，$z<em>{amino}$ 是根据目标原子上下文中中距离，电荷和氨基酸类型的值创建的。在用作网络的输入之前，<strong>charge</strong> 和 <strong>distance</strong> 特征的值得需要进行离散化处理。我们分别定义最小值和最大值 $c</em>{min}$ 和 $c<em>{max}$ 来执行电荷值的离散化。分档的间隔以 0.05 步长计算。例如，$c</em>{min} = -1$ 和 $c<em>{max} = 1$，将会有 40 个分档。类似地，为了离散化距离值，分档的间隔为 $0.3{\buildrel </em>{\circ} \over {\mathrm{A}}}$。例如，$d<em>{tmin} = 0$  和 $d</em>{tmax} = 5.1{\buildrel _{\circ} \over {\mathrm{A}}}$，将会有 18 个分档。</p>
<p>最后，原子 $a$ 的表述被定义为 $z<em>{a} = \left {z</em>{atm}; z<em>{dist}; z</em>{chrg}; z_{amino} \right}$，包括前面描述的矢量的连接。我们的假设是，从基本的概念特征来看，网络可以学习更多抽象的特征（嵌入），这些特征是关于复合和诱饵之间区分的信息。这种类型的基本特征（词）被转换成更抽象的特征（词嵌入）的策略在自然语言处理（LNP）领域获得了巨大的成功。</p>
<h3 id="化合物 - 蛋白质 - 复合物表示"><a href="# 化合物 - 蛋白质 - 复合物表示" class="headerlink" title="化合物 - 蛋白质 复合物表示"></a>化合物 - 蛋白质 复合物表示</h3><p>DeepVS 中的第二个隐藏层是一个卷积层，负责从化合物中所有原子上下文的表示中提取更多的抽象特征，在一个固定长度的矢量 $r$ 中提取这些信息。我们命名矢量 $r$ 是复合蛋白复合物的表示，它是卷积层的输出。使用卷积层的另一个目的是可以处理可变大小输入的能力。在虚拟筛选的情况下，不同化合物可以具有不同数量的原子。因此，对于不同的配合物，原子上下文的表示可以不同。在 DeepVS 中，卷积层允许处理不同大小的复合体。</p>
<p>给定一个复合物的 $x$，其复合物由 $m$ 个原子组成，到卷积层的输入是矢量 $\left {z_1，z_2，…，z_m \right}$ 的列表，其中 $z_i$ 表示化合物中的第 $i$ 个原子。在卷积层的第一阶段，通过式子 (1)，每个向量 $z_i$ 生成更多的抽象特征：</p>
<script type="math/tex; mode=display">
u_i = f(W^1z_i+b^1) \tag{1}</script><p>其中 $W^1 \in \mathbb{R}^{cf×|z_i|}$ 是对应卷积层的权重矩阵，$b^1$ 是一个偏差项，$f$ 是双曲正切函数，$u_i \in \mathbb{R}^{cf}$ 对应于最终的特征向量。卷积层中的单元（也称为滤波器）的数量 $cf$ 是由用户定义的超参数。</p>
<p>卷积层中的第二阶段，也被称为池化层，总结了各种原子对象的特征。输入由一组向量 $\left {u_1，u_2，…，u_m \right}$ 组成。对于 DeepVS，我们使用一个最大池化层，它产生一个向量 $r \in \mathbb{R}^{cf}$ ，其中第 $j$ 个元素的值被定义为输入向量集的第 $j$ 个元素的最大值，即：</p>
<script type="math/tex; mode=display">
[r]_{j} =  \underset{1 \le i \le m}{max}[u_{i}]_{j} \tag{2}</script><p>从这个阶段得到的载体 $r$ 是化合物 - 蛋白质复合物（式 2）的表示。通过这种方式，网络可以学习生成一个向量表示，将来自复合体的信息进行汇总，这与区分配体和诱饵有关。</p>
<h3 id="化合物 - 蛋白质 - 复合物评分"><a href="# 化合物 - 蛋白质 - 复合物评分" class="headerlink" title="化合物 - 蛋白质 复合物评分"></a>化合物 - 蛋白质 复合物评分 </h3><p> 向量 $r$ 由两个通常的神经网络层进行处理：第三个隐含层，表示一个更高级别的表示层，输出层为复杂度的两个可能分类的得分：（0）无活性化合物和（1）活性化合物。形式上，给定复合物 $x$ 生成的表示 $r$，第三个隐藏层和输出层执行以下操作：</p>
<script type="math/tex; mode=display">
s(x) = W^3(W^2r+b^2)+b^3 \tag{3}</script><p>其中 $W^2 \in \mathbb{R}^{h \times |cf|}$ 是第三隐层的权重矩阵，$W^3 \in \mathbb{R}^{2 \times|h|}$ 是输出层的权重矩阵，$b^2∈\mathbb{R}^h$ 和 $b^3 \in \mathbb{R}^2$ 是偏差项。隐藏层中的神经元个数数 $h$ 是用户定义的超参数。 $s(x) \in \mathbb{R}^2$ 是一个包含两个类别的分数的向量。</p>
<p>设 $s(x)<em>{0}$ 和 $s(x)</em>{1}$ 分别为 0 和 1 的分数。我们使用 softmax 函数以概率分布来转换这些分数，如下所示：</p>
<script type="math/tex; mode=display">
p(0|x)=\frac{e^{s(x)_{0}}}{e^{s(x)_{0}}+e^{s(x)_{1}}} \tag{4}</script><script type="math/tex; mode=display">
p(1|x) = \frac{e^{s(x)_{1}}}{e^{s(x)_{0}}+e^{s(x)_{1}}} \tag{5}</script><p>我们将 $p(0|x)$ 和 $p(1|x)$ 解释为化合物分别是诱饵或配体的条件概率，这个条件概率可以从分子对接程序中化合物 - 蛋白质复合体的数据中获得。</p>
<p>类别 1（活性配体）的可能性通常是被用于在虚拟筛选此类论文期间的一项评价标准。评分越大，化合物是活性配体的机会就越大。</p>
<h3 id="训练 -DeepVS"><a href="# 训练 -DeepVS" class="headerlink" title="训练 DeepVS"></a>训练 DeepVS</h3><p>训练神经网络的常用方法是随机梯度下降（SGD）算法。在我们的例子中，SGD 用于最小化包含配体和诱饵复合物的训练集 $D$ 的损失函数。在每次迭代中，随机选择一个新的复合物 $(x，y) \in D$，其中如果复合体包含活性配体，则 $y = 1$，反之 $y = 0$。接下来，使用参数集：</p>
<script type="math/tex; mode=display">
\theta = \left \{W^{atm}，W^{chrg}，W^{dist}，W^{amino}，W^1，b^1，W^2，b^2，W^3，b^3 \right \}</script><p>DeepVS 网络最终估计概率 $p(y|x，\theta)$ 。最后，预测误差被计算为负对数似然率，$log \; p(y|x，\theta)$，网络参数用反向传播算法更新。换句话说，通过使用 SGD 来学习网络的一组参数 $\theta$，以选择使关于 $\theta$ 的损失函数最小化的一组值：</p>
<script type="math/tex; mode=display">
\theta \mapsto \sum_{(x,y)\in D}-log\; p(y|x, \theta) \tag{6}</script><p>在我们的实验中，我们应用了 SGD 和 mini-batches，这意味着在每次迭代时考虑的不仅仅是一个化合物 - 蛋白质复合体，我们考虑一小组随机选择的复合体，并使用预测的平均损失来进行反向传播。我们设置 $m_s = 20$。另外，我们使用 Theano 来实现 DeepVS 网络结构以及进行实验。</p>
<h2 id="实验"><a href="# 实验" class="headerlink" title="实验"></a>实验 </h2><h3 id="数据集"><a href="# 数据集" class="headerlink" title="数据集"></a> 数据集 </h3><p> 我们使用 DUD 作为基准，并以此来评估我们 DeepVS 方法。使用这个数据集的主要原因之一是可以将我们的结果与之前提出的用于评分函数进行虚拟筛选分类的系统的结果进行比较。 DUD 的原始版本存在一些问题（原子部分电荷信息），因此我们使用 Arm-strong 等人生成的 DUD 版本，其中包含校正的原子部分电荷。</p>
<p>DUD 数据集专门用于严格验证 VS 方法。数据集由 40 个受体组成，分布在六种不同的生物体中组。此外，它拥有 2950 个注释配体和 95316 个诱饵，每个注释的比例为每一个配体有 36 个诱饵。 </p>
<h3 id="分子对接软件"><a href="# 分子对接软件" class="headerlink" title="分子对接软件"></a>分子对接软件</h3><p>Dock 6.6 与 AutodockVina 1.1.2。</p>
<h3 id="验证方法"><a href="# 验证方法" class="headerlink" title="验证方法"></a>验证方法 </h3><p> 我们使用来自 DUD 数据集的 40 个蛋白质的留一交叉验证法来评估 DeepVS 的性能。图 4 说明了我们“一次交叉验证”实验的过程。首先，我们将 DOCK 6.6 或 AutodockVina 1.1.2 应用于每种蛋白质及其相应的配体和诱饵组，以产生对接的蛋白质 - 化合物复合物。接下来，在每次运行中，将一个受体排除在测试集之外，而将其他受体用作训练集。</p>
<p>为了保证 DeepVS 性能结果的正确性，必须从训练集中移除所有类似于在特定交叉验证迭代中用作测试的受体。根据 Arciniega＆Lange（2014）的工作，我们认为那些共享相同生物类别或具有正向杂交富集的是类似受体。一旦网络被训练，将其应用于测试受体，产生每个潜在的配体。这样的评分被用于评分组合化合物。使用评价指标来验证算法的性能。</p>
<p><img src="https://farm5.staticflickr.com/4645/38466232055_8588bc9d82_o.jpg" alt=""></p>
<h3 id="DeepVS- 超参数设置"><a href="#DeepVS- 超参数设置" class="headerlink" title="DeepVS 超参数设置"></a>DeepVS 超参数设置 </h3><p> 使用留一交叉验证的主要优点是调整神经网络超参数的时候，不用过多地去担心过拟合的问题。实际上，当数据集很小时，留一交叉验证是一种调整机器学习算法中超参数的合适方法。在我们的实验中，我们使用相同的一组超参数进行 40 个交叉验证迭代。这相当于使用了相同超参数配置 DeepVS 网络去对不同的训练 / 测试集执行 40 次不同的实验。表 1 列出了我们最佳实验结果的超参数值（AutodockVina1.1.2 和 Dock6.6）。请注意，我们的评估方法比 Arciniega＆Lange （2014）更为严格，因为他们在每次离开迭代中都使用了一个保留集来调整超参数。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>超参数</th>
<th>描述</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>$d^{atm}$</td>
<td>原子类型 Embedding 大小</td>
<td>200</td>
</tr>
<tr>
<td>$d^{amino}$</td>
<td>氨基酸类型 Embedding 大小</td>
<td>200</td>
</tr>
<tr>
<td>$d^{chrg}$</td>
<td>原子部分电荷 Embedding 大小</td>
<td>200</td>
</tr>
<tr>
<td>$d^{dist}$</td>
<td>原子之间距离 Embedding 大小</td>
<td>200</td>
</tr>
<tr>
<td>$cf$</td>
<td>卷积层中的卷积核</td>
<td>400</td>
</tr>
<tr>
<td>$h$</td>
<td>神经网络隐藏层的神经元个数</td>
<td>50</td>
</tr>
<tr>
<td>$\lambda$</td>
<td>学习率</td>
<td>0.075</td>
</tr>
<tr>
<td>$k_c$</td>
<td>原子在化合物中的临近原子个数</td>
<td>6</td>
</tr>
<tr>
<td>$k_p$</td>
<td>原子在蛋白无中的临近原子个数</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
<h3 id="评价指标"><a href="# 评价指标" class="headerlink" title="评价指标"></a>评价指标 </h3><p> 为验证 DeepVS 的性能，并将其与以前在文献中发表的其他方法进行比较，我们使用了两个良好的 VS 性能指标，分别是富集系数（EF）、 ROC 以及 AUC 。</p>
<h2 id="实验结果"><a href="# 实验结果" class="headerlink" title="实验结果"></a>实验结果 </h2><p> 进行严格的评估和留一法交叉验证后，发现 DeepVS 在 AUC、 ROC 和 EF 方面均优于直接使用两款分子对接软件。此外，使用 Autodock Vina1.1.2 的结果作为 DeepVS 的输入的方法，其 AUC 达到 0.81。这是迄今为止使用 DUD 中 40 个受体的虚拟筛选结果中最好的 AUC 数据。</p>
<h2 id="总结"><a href="# 总结" class="headerlink" title="总结"></a>总结</h2><p>DeepVS 不需要人为定义，它使用单个对接程序的输出即取得良好效果，这些特点使得 DeepVS 成为有吸引力的虚拟筛选的方法。而且深度学习系统通常用大量的数据进行训练，如果给训练集添加更多的数据，DeepVS 的性能将得到更大改进。</p>
<p>此外，这项工作有一些非常创新的想法，例如，用卷积层处理原子上下文来表示复合物以及原子和氨基酸嵌入的思想都可以为深度学习用于生物信息学提供灵感。</p>
<h2 id="对应论文"><a href="# 对应论文" class="headerlink" title="对应论文"></a>对应论文</h2><p>Pereira,J.C.;Caffarena,E.R.;Dos Santos,C.N.,Boosting Docking-Based Virtual Screening with Deep Learning.Journal of chemical information and modeling 2016,56 (12),2495-2506.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://randolph.pro/2017/09/25/「TensorFlow」Cross Entropy Function in TensorFlow /">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Randolph">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃某人">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/25/「TensorFlow」Cross Entropy Function in TensorFlow /" itemprop="url">「TensorFlow」 Cross Entropy in TensorFlow</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-plus-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-25T00:00:00+08:00">
                2017-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TensorFlow/" itemprop="url" rel="index">
                    <span itemprop="name">TensorFlow</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/25/「TensorFlow」Cross Entropy Function in TensorFlow /#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/25/「TensorFlow」Cross Entropy Function in TensorFlow /" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/09/25/「TensorFlow」Cross Entropy Function in TensorFlow /" class="leancloud_visitors" data-flag-title="「TensorFlow」 Cross Entropy in TensorFlow">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-fire"></i>
               </span>
               <span class="leancloud-visitors-count"></span>
               <span>℃</span>
               <span class="post-meta-divider">|</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                <span title="Words count in article">
                  2,349
                </span>
                <span> words </span>
                
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                <span title="Reading time">
                  9
                </span>
                <span> mins </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          交叉熵（Cross Entropy）是 Loss 函数的一种（也称为损失函数或代价函数），用于描述模型预测值与真实值的差距大小，TensorFlow 本身也提供了多种交叉熵算法的实现，本文详细了 TensorFlow 中各个交叉熵函数的用法。
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/25/「TensorFlow」Cross Entropy Function in TensorFlow /">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://randolph.pro/2017/09/08/「Machine Learning」 LSTM Introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Randolph">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃某人">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/08/「Machine Learning」 LSTM Introduction/" itemprop="url">「Machine Learning」 LSTM Introduction</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-plus-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-08T00:00:00+08:00">
                2017-09-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-Learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine Learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/08/「Machine Learning」 LSTM Introduction/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/08/「Machine Learning」 LSTM Introduction/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/09/08/「Machine Learning」 LSTM Introduction/" class="leancloud_visitors" data-flag-title="「Machine Learning」 LSTM Introduction">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-fire"></i>
               </span>
               <span class="leancloud-visitors-count"></span>
               <span>℃</span>
               <span class="post-meta-divider">|</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                <span title="Words count in article">
                  3,224
                </span>
                <span> words </span>
                
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                <span title="Reading time">
                  11
                </span>
                <span> mins </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          本文主要介绍 Deep Learning 中的 LSTM 神经网络。
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/08/「Machine Learning」 LSTM Introduction/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://randolph.pro/2017/09/06/「Machine Learning」Deal with Imbalanced Data/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Randolph">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃某人">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/06/「Machine Learning」Deal with Imbalanced Data/" itemprop="url">「Machine Learning」 Deal with Imbalanced Data</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-plus-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-06T00:00:00+08:00">
                2017-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-Learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine Learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/06/「Machine Learning」Deal with Imbalanced Data/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/06/「Machine Learning」Deal with Imbalanced Data/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/09/06/「Machine Learning」Deal with Imbalanced Data/" class="leancloud_visitors" data-flag-title="「Machine Learning」 Deal with Imbalanced Data">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-fire"></i>
               </span>
               <span class="leancloud-visitors-count"></span>
               <span>℃</span>
               <span class="post-meta-divider">|</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                <span title="Words count in article">
                  4,546
                </span>
                <span> words </span>
                
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                <span title="Reading time">
                  16
                </span>
                <span> mins </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          本文主要介绍在机器学习中样本比例不平衡的处理方法。
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/06/「Machine Learning」Deal with Imbalanced Data/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://randolph.pro/2017/07/15/♟「Tools」 MongoDB and PyMongo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Randolph">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃某人">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/15/♟「Tools」 MongoDB and PyMongo/" itemprop="url">♟「Tools」 MongoDB and PyMongo</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-plus-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-15T00:00:00+08:00">
                2017-07-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/07/15/♟「Tools」 MongoDB and PyMongo/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/07/15/♟「Tools」 MongoDB and PyMongo/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/07/15/♟「Tools」 MongoDB and PyMongo/" class="leancloud_visitors" data-flag-title="♟「Tools」 MongoDB and PyMongo">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-fire"></i>
               </span>
               <span class="leancloud-visitors-count"></span>
               <span>℃</span>
               <span class="post-meta-divider">|</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                <span title="Words count in article">
                  7,117
                </span>
                <span> words </span>
                
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                <span title="Reading time">
                  32
                </span>
                <span> mins </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          本文介绍了 MongoDB 的相关知识，以及 PyMongo （Python 上连接 MongoDB 的第三方库）的 API 操作。
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/07/15/♟「Tools」 MongoDB and PyMongo/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://randolph.pro/2017/03/17/「TensorFlow」Use WeChat to Monitor Your Network/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Randolph">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃某人">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/17/「TensorFlow」Use WeChat to Monitor Your Network/" itemprop="url">「TensorFlow」 Use WeChat to Monitor Your Network</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-plus-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-17T00:00:00+08:00">
                2017-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TensorFlow/" itemprop="url" rel="index">
                    <span itemprop="name">TensorFlow</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/17/「TensorFlow」Use WeChat to Monitor Your Network/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/03/17/「TensorFlow」Use WeChat to Monitor Your Network/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/03/17/「TensorFlow」Use WeChat to Monitor Your Network/" class="leancloud_visitors" data-flag-title="「TensorFlow」 Use WeChat to Monitor Your Network">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-fire"></i>
               </span>
               <span class="leancloud-visitors-count"></span>
               <span>℃</span>
               <span class="post-meta-divider">|</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                <span title="Words count in article">
                  1,702
                </span>
                <span> words </span>
                
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                <span title="Reading time">
                  9
                </span>
                <span> mins </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          平时，大家自己的机器模型在训练期间（特别是深度网络），训练时间通常几小时到十几小时不等，甚至可能会花上好几天，那么在这段时间，你们又会干些什么事情呢？作为程序员，这里提供一个「有趣的」方式，用你的微信来监控你的模型在训练期间的一举一动。
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/03/17/「TensorFlow」Use WeChat to Monitor Your Network/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://randolph.pro/2017/03/13/「TensorFlow」 Tensorboard/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Randolph">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黃某人">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/13/「TensorFlow」 Tensorboard/" itemprop="url">「TensorFlow」 Tensorboard</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-plus-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-13T00:00:00+08:00">
                2017-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TensorFlow/" itemprop="url" rel="index">
                    <span itemprop="name">TensorFlow</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/13/「TensorFlow」 Tensorboard/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/03/13/「TensorFlow」 Tensorboard/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/03/13/「TensorFlow」 Tensorboard/" class="leancloud_visitors" data-flag-title="「TensorFlow」 Tensorboard">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-fire"></i>
               </span>
               <span class="leancloud-visitors-count"></span>
               <span>℃</span>
               <span class="post-meta-divider">|</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                <span title="Words count in article">
                  2,269
                </span>
                <span> words </span>
                
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                <span title="Reading time">
                  12
                </span>
                <span> mins </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          本文主要介绍 TensorFlow 的 Tensorboard 功能。
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/03/13/「TensorFlow」 Tensorboard/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="Randolph" />
          <p class="site-author-name" itemprop="name">Randolph</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">32</span>
                <span class="site-state-item-name">Posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">Categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">Tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/RandolphVI" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-github-alt"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/威-黄-88060b74/" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  LinkedIn
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://music.163.com/#/user/home?id=57901575" target="_blank" title="Music">
                  
                    <i class="fa fa-fw fa-music"></i>
                  
                  Music
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://steamcommunity.com/id/Chinawolfman/" target="_blank" title="Steam">
                  
                    <i class="fa fa-fw fa-steam"></i>
                  
                  Steam
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.tensorflow.org" title="TensorFlow" target="_blank">TensorFlow</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.kaggle.com" title="Kaggle" target="_blank">Kaggle</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://leetcode.com" title="LeetCode" target="_blank">LeetCode</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://weekly.codetengu.com" title="CodeTengu" target="_blank">CodeTengu</a>
                </li>
              
            </ul>
          </div>
        
        
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=320 height=150 src="//music.163.com/outchain/player?type=0&id=752986314&auto=1&height=90"></iframe>

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="motto" >
  <span class="motto">「莫怕真理无穷 进一寸便有进一寸的欢喜」</span>
</div>

<div class="copyright">
  
  &copy;  2017 - 
  <span itemprop="copyrightYear">2018</span>
  
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  
  <span class="author" itemprop="copyrightHolder">Randolph</span>
  
</div>

<!--  -->
<!-- <div class="powered-by"> -->
<!--   Powered by <a class="theme-link" href="https://hexo.io">Hexo</a> -->
<!-- </div> -->
<!--  -->
<!-- <div class="theme-info"> -->
<!--   Theme - -->
<!--   <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next"> -->
<!--     NexT.Mist -->
<!--   </a> -->
<!-- </div> -->


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 鸿儒之顾
      <span class="stop">:</span>
      <span class="busuanzi-value" id="busuanzi_value_site_uv" style="display: inline;"></span>
      
    </span>
    
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 管中窥豹
      <span class="stop">:</span>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://randolphvi.disqus.com/count.js" async></script>
    

    

  




	





  








  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.1"></script>



  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("rlX1ugcCzQRlB8ljks0eiIKp-gzGzoHsz", "kpFrsFctrAimlBvhHvlgWnhV");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
